{
 "add_total_row": 1, 
 "apply_user_permissions": 1, 
 "creation": "2019-04-28 12:08:39.899844", 
 "disabled": 0, 
 "docstatus": 0, 
 "doctype": "Report", 
 "idx": 0, 
 "is_standard": "Yes", 
 "modified": "2019-04-28 13:23:21.169721", 
 "modified_by": "Administrator", 
 "module": "PLE-PERU", 
 "name": "PLE Ventas", 
 "owner": "Administrator", 
 "query": "SELECT\n\tCONCAT(DATE_FORMAT(due_date,'%%Y%%m'),'00') as \"PERIODO:Data:100\",\n\tREPLACE(sales_invoice.name, '-', '') as \"NUMERO CORRELATIVO O CODIGO UNICO DE LA OPERACI\u00d3N:Data:100\",\n\t'M1' as \"SECUENCIA:Data:100\",\n\tDATE_FORMAT(posting_date,'%%d/%%m/%%Y') as \"FECHA DE EMISI\u00d3N DEL COMPROBANTE DE PAGO O DOCUMENTO:Date:120\",\n\tDATE_FORMAT(due_date,'%%d/%%m/%%Y') as \"FECHA DE VENCIMIENTO O FECHA DE PAGO:Date:120\",\n\tIF(LENGTH(codigo_comprobante) = 1,CONCAT('0',codigo_comprobante), codigo_comprobante) as \"TIPO DE COMPROBANTE DE PAGO O DOCUMENTO:Link/Tipos de Comprobante:100\",\n\tSUBSTRING(sales_invoice.name,4,4) as \"SERIE DE COMPROBANTE DE PAGO O DOCUMENTO:Data:150\",\n\tSUBSTRING(sales_invoice.name,9) as \"NUMERO DE COMPROBANTE DE PAGO O DOCUMENTO:Data\",\n\t\"\" as \"PARA EFECTOS DEL REGISTRO DE TICKETS O CINTAS EMITIDOS POR MAQUINAS REGISTRADORAS:Data:150\",\n\tIF(base_net_total>700,codigo_tipo_documento,IF(ISNULL(tax_id),\"\",IFNULL(codigo_tipo_documento,\"\"))) as \"TIPO DOC. IDENTIDAD CLIENTE:Field/Tipos de Documento de Identidad:100\",\n\tIF(codigo_tipo_documento=7,IF(SUBSTRING(REPLACE(tax_id,\"-\",\"\"),-12)=\"\",tax_id, SUBSTRING(REPLACE(tax_id,\"-\",\"\"),-12)),IF(base_net_total>700,tax_id,IF(ISNULL(tax_id),\"\",tax_id))) as \"NUMERO DOC. IDENTIDAD CLIENTE:Data:100\",\n\tIF(base_net_total>700,customer_name,IF(ISNULL(tax_id),\"\",IF(customer_name='Clientes Varios',customer_boleta_name,customer_name))) as \"APELLIDOS Y NOMBRES DENOMINACION O RAZ\u00d3N SOCIAL CLIENTE:Data:100\",\n\t\"\" as \"VALOR FACTURADO DE LA EXPORTACION:Data:400\",\n\tbase_net_total as \"BASE IMPONIBLE DE LA OPERACI\u00d3N GRAVADA:Float:120\",\n\t\"\" as \"DESCUENTO DE LA BASE IMPONIBLE:Float:120\",\n\ttotal_taxes_and_charges as \"IMPUESTO GENERAL A LAS VENTAS Y/O IMPUESTO DE PROMOCION MUNICIPAL:Float:120\",\n\t\"\" as \"DESCUENTO DEL IMPUESTO GENERAL A LAS VENTAS Y/O IMPUESTO DE PROMOCION MUNICIPAL:Float:120\",\n\t\"\" as \"IMPORTE TOTAL DE LA OPERACI\u00d3N EXONERADA:Float:100\",\n\t\"\" as \"IMPORTE TOTAL DE LA OPERACI\u00d3N INAFECTA:Float:100\",\n\t\"\" as \"IMPUESTO SELECTIVO AL CONSUMO:Float:100\",\n\t\"\" as \"BASE IMPONIBLE DE LA OPERACION GRAVADA VENTAS ARROZ PILADO:Float:100\",\n\t\"\" as \"IMPUESTO A LAS VENTAS ARROZ PILADO:Float:100\",\t\n\t\"\" as \"OTROS TRIBUTOS Y CARGOS QUE NO FORMAN PARTE DE LA BASE IMPONIBLE:Float:100\",\t\t\n\tgrand_total as \"IMPORTE TOTAL DEL COMPROBANTE DE PAGO:Float:120\",\n\tIF(currency = 'SOL', 'PEN', currency) as \"MONEDA:Link/Currency\",\n\tSUBSTRING(conversion_rate,1,POSITION('.' in conversion_rate)+3) as \"TIPO DE CAMBIO:Float:120\",\n\tIF(is_return,(SELECT due_date FROM `tabSales Invoice` WHERE name=return_against),\"\") as \"FECHA DE REF. DEL COMPROBANTE DE PAGO  O DOCUMENTO  MODIFICADO:Date:120\",\n\tIF(is_return,(SELECT codigo_comprobante FROM `tabSales Invoice` WHERE name=return_against),\"\") as \"TIPO DE REF. DEL COMPROBANTE DE PAGO  O DOCUMENTO MODIFICADO:Link/Tipos de Comprobante:100\",\n\tIF(is_return,SUBSTRING((SELECT name FROM `tabSales Invoice` WHERE name=return_against),4,3),\"\") as \"SERIE DE REF. DEL COMPROBANTE DE PAGO  O DOCUMENTO MODIFICADO:Data:100\",\n\tIF(is_return,SUBSTRING((SELECT name FROM `tabSales Invoice` WHERE name=return_against),8),\"\")  as \"NUMERO DE REF. DEL COMPROBANTE DE PAGO  O DOCUMENTO MODIFICADO:Data:100\",\n\t\"\" as \"IDENTIFICACION DEL CONTRATO O PROYECTO (JOINT VENTURES):Data:100\",\n\t\"\" as \"ERROR 1: INCONSISTENCIA EN EL TIPO DE CAMBIO:Data:100\",\n\t'1' as \"INDICADOR DE COMPROBANTES DE PAGO CANCELADOS CON MEDIOS DE PAGO:Data:100\",\n\tIF(sales_invoice.docstatus='2','2',IF(CONCAT(DATE_FORMAT(posting_date,'%%Y-%%m'),'-01')>=due_date,'7','1')) as \"ESTADO:Data:100\"\n\t\t\tfrom\n\t\t\t\t`tabSales Invoice` as sales_invoice\n\t\t\twhere due_date >= %(from_date)s \n\t\t\tand due_date <= %(to_date)s\n            \t\tand docstatus != 0\n\t\t\torder by due_date", 
 "ref_doctype": "Sales Invoice", 
 "report_name": "PLE Ventas", 
 "report_type": "Query Report", 
 "roles": [
  {
   "role": "Accounts User"
  }, 
  {
   "role": "Accounts Manager"
  }, 
  {
   "role": "SFP GERENCIA"
  }, 
  {
   "role": "SFP COORDINADOR LOGISTICO"
  }, 
  {
   "role": "SFP COORDINADOR ADM Y FIN"
  }, 
  {
   "role": "SFP ADM CONTRATOS"
  }, 
  {
   "role": "SFP JEFE OPERACIONES"
  }, 
  {
   "role": "SFP COORDINADOR CONTABLE"
  }
 ]
}